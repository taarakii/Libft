#include	<stdio.h>
#include	<stdlib.h>
#include	<stddef.h>
#include	"libft.h"

//@function_name
// ft_strtrim
//@param
// s1: The string to be trimmed.
// set: The reference set of characters to trim.
//@return_val
// The trimmed string.
// NULL if the allocation fails.
//@description
// Allocates (with malloc(3)) and returns a copy of 's1'
// with the characters specified in 'set' removed from 
// the beginning and the end of the string.

//I need a function for counting the number of 
// occurence of a set of characters in a string
// I can see strstr as a reference.
size_t	ft_strstr_count(char *h, char *n)
{
	size_t	num;
	int	i;

	num = 0;
	if (*n == 0)
		return (0);
	if (h == NULL)
		return (0);
	while (*h)
	{
		if (*h == n[0])
		{
			i = 0;
			while (h[i] == n[i])
				if (i++ == ft_strlen(n) - 1)
					num++;
		}
		h++;
	}
	return (num);
}


char	*ft_strtrim(char const *s1, char const *set)
{
	char	*p;
	char	*temp;
	size_t	x;//x: the number of occurence of set in s1

	x = ft_strstr_count((char*)s1, (char*)set);
	printf("\nlen(s1): %d", ft_strlen(s1));
	printf("\nlen(set): %d", ft_strlen(set));
	printf("\nlen(x): %zu", x);
	p = (char*)malloc((ft_strlen(s1) - (x * ft_strlen(set))) * sizeof(char) + 1);
	if (p == NULL)
	{
		printf("\nAllocation fails with the size %zu ", x);
		return (NULL);
	}
	printf("\nAllocation succeeds with the size %zu ", x);
	temp = p;
	return (temp);
}





